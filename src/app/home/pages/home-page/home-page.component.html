<div class="home-container">
  <div class="profile-section">
    <div class="photo-container">
      <!-- Remplacez par le chemin de votre photo -->
      <img
        [ngSrc]="'assets/imgs/placeholder.png'"
        [width]="250"
        [height]="500"
        alt="Profil"
        class="profile-photo"
      />
    </div>

    <div class="info-container">
      <h1 class="name">{{ nom }}</h1>

      <div class="description">
        <p>{{ description }}</p>
      </div>

      <a [href]="linkLinkedIn" class="link">LinkedIn</a>
    </div>
  </div>

  <div class="projects-section">
    <h2 class="section-title">Mes projets</h2>

    @for (projet of projects; track $index) {
    <div class="project-card">
      <img
        [ngSrc]="'assets/imgs/' + projet.imageUrl"
        [width]="200"
        [height]="200"
        [alt]="projet.title"
        class="project-image"
      />
      <div>
        <h3>{{ projet.title }}</h3>
        <p>{{ projet.description }}</p>
        <div class="technos">
          @for (techno of projet.technologies; track $index) {
          <div class="techno-item">
            <img
              [ngSrc]="'assets/icons/' + techno.logo"
              [width]="32"
              [height]="32"
              [alt]="techno.name + ' logo'"
              class="techno-logo"
            />
            <span class="icon-name">{{ techno.name }}</span>
          </div>
          }
        </div>
        <a (click)="goToProject(projet.title)" class="project-link"
          >Voir le projet</a
        >
      </div>
    </div>
    }
    <div class="action">
      <button type="button" (click)="goToProjects()">
        Voir tous mes projets
      </button>
    </div>
  </div>

  <div>
    <section class="experience-section">
      <h2 class="section-title">Expérience Professionnelle</h2>
    
      @for (job of experiences; track $index) {
        <div class="experience-card">
        <div class="job-header">
          <h3>{{ job.title }}</h3>
          <span class="company">{{ job.company }} — {{ job.period }}</span>
        </div>
        <ul class="job-details">
          @for (detail of job.tasks; track $index) {
            <li>{{ detail }}</li>
          }
        </ul>
        <div class="skills">
          @for (skill of job.skills; track $index) {
            <span  class="skill-tag">{{ skill }}</span>
          }
        </div>
      </div>
      }
  
    </section>

    <section class="education-section">
      <h2 class="section-title">Formations</h2>

      <div class="education-timeline">
        @for (formation of formations; track $index) {
        <div class="education-item">
          <div class="education-details">
            <div class="school-info">
              <div class="school-name">{{ formation.ecole }}</div>
              <div class="school-location">{{ formation.lieu }}</div>
              <div class="school-year">{{ formation.annee }}</div>
            </div>

            <div class="diploma-info">
              <div class="diploma-dot"></div>
              <div class="diploma-content">
                <h3 class="diploma-title">{{ formation.diplome }}</h3>
                <ul class="diploma-details">
                  @for (detail of formation.details; track $index) {
                  <li>{{ detail }}</li>
                  }
                </ul>
              </div>
            </div>
          </div>
        </div>
        }
      </div>
    </section>
  </div>

  <div class="competences-section">
    <div class="competences">
      <h3>Mes compétences techniques</h3>

      @for (categorie of competences; track $index) {
      <div class="competence-categorie">
        <h4>{{ categorie.categorie }}</h4>
        <ul class="competence-liste">
          @for (skill of categorie.liste; track $index) {
          <div class="competence-item">
            <img
              [ngSrc]="'assets/icons/' + skill.logo"
              [width]="48"
              [height]="48"
              [alt]="skill.nom + ' logo'"
              class="skill-logo"
            />
            <span class="icon-name">{{ skill.nom }}</span>
          </div>
          }
        </ul>
      </div>
      }
    </div>

    <div class="competences">
      <h3>Mes compétences transversales</h3>
      @for (categorie of competencesTransversales; track $index) {
      <div class="competence-categorie">
        <h4>{{ categorie.categorie }}</h4>
        <ul class="competence-liste">
          @for (skill of categorie.liste; track $index) {
          <li>{{ skill }}</li>
          }
        </ul>
      </div>
      }
    </div>
  </div>
</div>
